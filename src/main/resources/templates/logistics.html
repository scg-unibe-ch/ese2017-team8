<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Hello Logistician!</title>
		<link rel="stylesheet" type="text/css" media="all"
			  href="stylesheets/default.css" th:src="@{../stylesheets/default.css}" />
	</head>
	<body>
		<h1>Backend Logistik</h1>
		<h2>Erfasste Pakete</h2>
		<!-- TODO: create a form that asigns parcels to drivers, safe it to one delivery -->

		<table>
			<thead>
				<tr>
					<th>Paket-ID</th>
					<th>Länge</th>
					<th>Breite</th>
					<th>Höhe</th>
					<th>Gewicht</th>
					<th>Gefahrengut</th>
					<th>Zerbrechlich</th>
					<th>Kommentar</th>
					<th>Fahrer</th>
				</tr>
			</thead>
			<tbody>
					<tr th:each="parcelListViewModel, stat : ${allParcel}">
						<form th:action="@{/logistics}" th:object="${parcelListViewModel}" th:method="post">
							<td th:text="*{parcel.id}">...</td>
							<td th:text="*{parcel.length}">...</td>
							<td th:text="*{parcel.width}">...</td>
							<td th:text="*{parcel.height}">...</td>
							<td th:text="*{parcel.weight}"></td>
							<td th:text="*{parcel.dangerous}">...</td>
							<td th:text="*{parcel.fragile}"></td>
							<td th:text="*{parcel.comment}"></td>
							<td>
								<select th:object="${parcelListViewModel}" th:field="*{parcel.comment}" onchange="this.form.submit()">
									<option value="" disabled="disabled" selected="selected">Fahrer wählen</option>
									<th:block th:each="driver : ${allDrivers}">
										<option th:value="${driver}" th:text="${driver}">...</option>
									</th:block>
								</select>
							</td>
						</form>
					</tr>
			</tbody>
		</table>


		<a th:href="@{/neworder}">Neues Paket erfassen</a>
		<a th:href="@{/logout}">Logout</a>
	</body>
</html>
