<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Hello Logistician!</title>
		<style>
			table {
				border-collapse: collapse;
			}

			td, th {
				border: 1px solid black;
				padding: 5px;
			}
		</style>
	</head>
	<body>
		<h1>Backend Logistik</h1>
		<h2>Erfasste Pakete</h2>
		<!-- TODO: create a form that asigns parcels to drivers, safe it to one delivery -->

		<table>
			<thead>
				<tr>
					<th>Paket-ID</th>
					<th>Länge</th>
					<th>Breite</th>
					<th>Höhe</th>
					<th>Gewicht</th>
					<th>Gefahrengut</th>
					<th>Zerbrechlich</th>
					<th>Kommentar</th>
					<th>Fahrer</th>
				</tr>
			</thead>
			<tbody>
					<tr th:each="vm : ${parcelListViewModels}">
						<form th:action="@{/logistics}" th:method="post">
							<td th:value="${vm.parcel.id}" th:text="${vm.parcel.id}">...</td>
							<td th:value="${vm.parcel.length}" 		th:text="${vm.parcel.length}">...</td>
							<td th:value="${vm.parcel.width}" 		th:text="${vm.parcel.width}">...</td>
							<td th:value="${vm.parcel.height}" 		th:text="${vm.parcel.height}">...</td>
							<td th:value="${vm.parcel.weight}" 		th:text="${vm.parcel.weight}"></td>
							<td th:value="${vm.parcel.dangerous}"	th:text="${vm.parcel.dangerous}">...</td>
							<td th:value="${vm.parcel.fragile}"	 	th:text="${vm.parcel.fragile}"></td>
							<td th:value="${vm.parcel.comment}"		th:text="${vm.parcel.comment}"></td>
							<td>
								<input th:value="${vm.parcel.id}" id="parcelId" name="parcelId" class="form-control" type="hidden"/>
								<select id="driverName" name="driverName" class="form-control" onchange="this.form.submit()">
									<option value="" disabled="disabled" selected="selected">Fahrer wählen</option>
									<th:block th:each="driver : ${allDrivers}">
										<option th:value="${driver}" th:text="${driver}">...</option>
									</th:block>
								</select>

							</td>
						</form>
					</tr>
			</tbody>
		</table>


		<a th:href="@{/neworder}">Neues Paket erfassen</a>
		<a th:href="@{/logout}">Logout</a>
	</body>
</html>
